(self.webpackChunkmomentum=self.webpackChunkmomentum||[]).push([[2891],{76187:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDEuNjYgMjQxLjY2Ij48cGF0aCBkPSJNMjEwLjMyMyAxNy45M2gtMTcuODk4Yy05LjAxIDAtMTYuMDY2LTUuMTY1LTI2Ljg0OC04Ljk0OUMxNTAuODExIDMuODY1IDEyOC43NTYuMDI1IDkwLjc2Ni4wMjUgODQuMTIyLjAyNSA2My41MTYgMCA2My41MTYgMGMtNi4zMDkgMC0xMS4zNzcgMi44ODItMTUuMDM1IDYuMzYzLTEuMzkyIDEuMzIzLTIuODQ0IDMuMjQ1LTMuNDY1IDYuOTk0LS4xMDEuNTgyLS4yMSAzLjAxNy0uMTkzIDMuMzQ2LS40NzggMTAuNzI5IDYuMDA4IDE0LjYxNCA5LjY4MiAxNS44MzUtLjEwMS4wMzQtLjAzMy4xMjYtLjIzNS4xMTdsLTExLjY2Mi0uNTIyYy0xMC4zNTItLjQ3Mi0yMC41NzIgNi45ODYtMjAuNTcyIDE5LjY2OSAwIDEwLjUxNyA4LjUyNCAxNy45MzMgMTguODQ0IDE4LjQzOWwtNi4xODQtLjI4N2MtMTAuMzUyLS40NTUtMTkuMTAzIDcuNjk1LTE5LjU4MiAxOC4yMi0uNDUzIDEwLjUyNiA3LjU2NyAxOS40MzMgMTcuOTEzIDE5LjkwNi0xMC4zNDUtLjQ3Mi0xOS4xMjEgNy42NzctMTkuNTczIDE4LjIwMy0uNDU0IDEwLjUyNiA2LjgyMSAxOS45OSAxNy4xNzQgMjAuNDQ0bDY4LjczIDguNjNzLTE0LjMyNCAyMy45NTktMTQuMzI0IDU5LjQ1NWMwIDIzLjY2NCAxNi45MDUgMjYuODQ4IDI2Ljg0OCAyNi44NDggNy44MjEuMDAyIDkuOTI3LTE1LjE1MSA5LjkyNy0xNS4xNTFoLjAxNmMxLjc3LTkuNzE3IDQuMDc3LTE4LjIwMyAxMi4wOTEtMzMuODI3IDguOTY4LTE3LjUxMiAyMS4xODQtMTUuODY5IDM1LjQ0Ni0zMS40NjcgMi41MTctMi43NDcgNS44OTgtNy4yODEgOS4xOTUtMTIuODYuMjY5LS4yOTUuNTIxLS43MDguNzY0LTEuMjg5LjI5My0uNjkuNjQ2LTEuMTcyLjk1Ni0xLjgxMmExMDIuNjY5IDEwMi42NjkgMCAwIDAgMS42MS0zLjA1OWM4LjgyNi04LjgyNyAyMi41NzktNy45MjUgMjguNDM1LTcuOTI1IDExLjc0NiAwIDE3Ljg5OC02LjgyNSAxNy44OTgtMTcuODk4bC4wMDUtODEuODI4Yy4wMDItMTIuNDIzLTUuMDgyLTE2LjYxNC0xNy45MDItMTYuNjE0eiIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIC8+PC9zdmc+Cg=="},48368:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBmaWxsPSIjZmZmIj4KPHBhdGggY2xhc3M9Im91dGxpbmUiIGQ9Ik00Mi45LDMzMi45YzQuNS03My44LDI5LjgtMTM1LjEsNzYtMTgzLjhoMS45bDEuOS0xLjlDMTc5LjIsOTguNCwyNDMuMSw3NCwzMTQuMyw3NHMxMzIuNSwyMi41LDE4My44LDY3LjQKCWMyMC41LTE4LDQyLTMyLjQsNjQuNS00My4zbDEuOS0xLjloMS45QzYwMi40LDgxLjQsNjM5LjksNzQsNjc5LjEsNzRjNTYuNS0xLjMsMTA4LjEsMTIuNSwxNTUsNDEuNAoJYzQ2LjgsMjguOSw4Mi4xLDY4LjcsMTA1LjksMTE5LjN2MS45bDEuOSwzLjhjMTkuMiw2OCwyMi41LDEzMi44LDkuNiwxOTQuNGMtMTIuOCw2MS42LTM4LjUsMTE3LjctNzcsMTY4LjQKCWMtMzkuOCw1Ni41LTkxLjgsMTExLjYtMTU1LjksMTY1LjVjMCwxLjMtMC42LDEuOS0xLjksMS45Yy0zMS40LDI4LjktNjUuOCw1Ny43LTEwMyw4Ni42Yy0yMS44LDE2LTQwLjcsMjkuMi01Ni44LDM5LjUKCWMtMjEuMiwxNC44LTM4LjgsMjIuMS01Mi45LDIyLjFsLTUuOCwxLjlsLTQuOC0xLjljLTE4LTEuOS0zNi45LTExLjItNTYuOC0yNy45Yy02LjQtMy44LTEzLjItOS0yMC4yLTE1LjRzLTEyLjItMTAuNi0xNS40LTEyLjUKCUgzOTlDMjQxLjIsNzQyLjYsMTM1LjksNjMzLjUsODMuMyw1MzZ2LTEuOUM1MS45LDQ3My44LDM4LjQsNDA2LjcsNDIuOSwzMzIuOXogTTEyNC43LDM0Mi42Yy0zLjgsNTUuMiw2LjcsMTA3LjIsMzEuOCwxNTUuOQoJYzQ3LjUsODYuNiwxNDQuNywxODYuMSwyOTEuNiwyOTguNGgxLjljMy44LDMuOCw5LjYsOSwxNy4zLDE1LjRjNy43LDYuNCwxMy44LDEwLjksMTguMywxMy41YzUuMSwzLjgsOS45LDcuMSwxNC40LDkuNgoJYzUuMS0xLjMsOS42LTMuMiwxMy41LTUuOGMxNC4xLTksMzAuNS0yMC45LDQ5LjEtMzUuNmMzNy4yLTI3LjYsNzAuOS01NS44LDEwMS4xLTg0LjdjNjAuMy01MS4zLDEwOC44LTEwMywxNDUuMy0xNTUKCWM2OC43LTkxLjEsODcuMy0xODYuNyw1NS44LTI4Ni44Yy0xNy4zLTM2LjYtNDIuMy02NC44LTc1LjEtODQuN2MtMzIuNy0xOS45LTY5LTI5LjItMTA4LjgtMjcuOWMtMjcuNiwwLTU1LjIsNS41LTgyLjgsMTYuNAoJYy0yNSwxNC4xLTQ2LjgsMzIuNC02NS40LDU0LjlMNTAyLDI2Ny41bC0zMy43LTQxLjRjLTMzLjQtNDEuNy03OC42LTY1LjEtMTM1LjctNzAuM3MtMTA4LjgsMTEuOS0xNTUsNTEKCUMxNDYuMiwyNDIuMiwxMjguNSwyODcuNCwxMjQuNywzNDIuNnoiLz4KPHBhdGggY2xhc3M9ImZpbGwiIGQ9Ik00MS43LDMzMi45YzQuNS03My44LDI5LjktMTM1LjEsNzYtMTgzLjhoMS45bDEuOS0xLjlDMTc4LjEsOTguNCwyNDEuOSw3NCwzMTMuMSw3NAoJYzcxLjIsMCwxMzIuNSwyMi41LDE4My44LDY3LjRjMTkuNC0xNy4zLDQxLjEtMzEuOCw2NC41LTQzLjNsMS45LTEuOWgxLjlDNjAxLDgxLjUsNjM5LjMsNzQsNjc3LjksNzRjNTYuNS0xLjMsMTA4LjEsMTIuNSwxNTUsNDEuNAoJYzQ2LjksMjguOSw4Mi4yLDY4LjcsMTA1LjksMTE5LjN2MS45bDEuOSwzLjhjMTkuMiw2OCwyMi41LDEzMi44LDkuNiwxOTQuNGMtMTIuOCw2MS42LTM4LjUsMTE3LjctNzcsMTY4LjQKCWMtMzkuNyw1Ni41LTkxLjcsMTExLjctMTU1LjksMTY1LjVjMC4xLDEtMC42LDEuOC0xLjUsMS45Yy0wLjEsMC0wLjMsMC0wLjQsMGMtMzEuNSwyOC45LTY1LjgsNTcuNy0xMDMsODYuNgoJYy0yMS44LDE2LjEtNDAuNywyOS4yLTU2LjgsMzkuNWMtMjEuMiwxNC43LTM4LjgsMjIuMS01Mi45LDIyLjFsLTUuOCwxLjlsLTQuOC0xLjljLTE4LTEuOS0zNi45LTExLjMtNTYuOC0yNy45CgljLTcuMi00LjQtMTQtOS42LTIwLjItMTUuNGMtNy02LjQtMTIuMi0xMC42LTE1LjQtMTIuNWgtMS45QzI0MCw3NDIuNywxMzQuNyw2MzMuNiw4Mi4xLDUzNnYtMS45QzUwLjcsNDczLjcsMzcuMiw0MDYuNyw0MS43LDMzMi45Cgl6Ii8+Cjwvc3ZnPgo="},59626:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODEuNzEgNDgxLjcyIj48cGF0aCBkPSJNMTA2LjEyLDEwLjc2LDEwLjc3LDEwNi4xM2EzNi43MiwzNi43MiwwLDAsMCw0NS45Miw1Ni44bDEwOS42LDEyNy40MWExMDAuMTEsMTAwLjExLDAsMCwwLDIwLDExMy4zMiwzNS4yNywzNS4yNywwLDAsMCw0OS44NiwwbDU3LjMzLTU3LjMxTDQ4MS43MSw0ODEuNzIsMzQ2LjM1LDI5My41Mmw1Ny4zMS01Ny4zMWEzNS4zLDM1LjMsMCwwLDAsMC00OS44OCwxMDAuMTYsMTAwLjE2LDAsMCwwLTExMy4yOS0yMEwxNjIuOTMsNTYuNjdhMzYuNzIsMzYuNzIsMCwwLDAtNTYuODEtNDUuOTFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDApIiAvPjwvc3ZnPgo="},34837:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQ5LjA1IDEzMi4xMiI+Cgk8Y2lyY2xlIGN4PSIxMTUuNSIgY3k9IjEwOC42MiIgcj0iMjMiIC8+Cgk8cGF0aCBkPSJNMjkxLjUsMjgxQTIyLjUsMjIuNSwwLDEsMSwyNjksMzAzLjUsMjIuNTIsMjIuNTIsMCwwLDEsMjkxLjUsMjgxbTAtMUEyMy41LDIzLjUsMCwxLDAsMzE1LDMwMy41LDIzLjUsMjMuNSwwLDAsMCwyOTEuNSwyODBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTc2IC0xOTQuODgpIj48L3BhdGg+Cgk8cGF0aCBjbGFzcz0iYXJyb3ciIGQ9Ik0zOTksMjU3LjVhMTM1LjE4LDEzNS4xOCwwLDAsMC00MS4xNi00Mi4xN2MtMjIuNy0xNC43NC00OS4zOC0yMS45Mi03NS4xNS0yMC4yYTEwOC43MSwxMDguNzEsMCwwLDAtNjUuMTYsMjdjLTE5LjkxLDE3LjUtMzMuNzYsNDEuNzktNDEuMTgsNzIuMTlhMTMuNTIsMTMuNTIsMCwwLDAsOS45MiwxNi4zMiwxMy42NiwxMy42NiwwLDAsMCwzLjIxLjM4LDEzLjUxLDEzLjUxLDAsMCwwLDEzLjExLTEwLjNjNi4wNy0yNC45MiwxNy4xLTQ0LjU0LDMyLjc2LTU4LjMxYTgyLDgyLDAsMCwxLDQ5LjEzLTIwLjMyYzIwLTEuMzMsNDAuODEsNC4zMiw1OC42NSwxNS45QTEwOC4wNywxMDguMDcsMCwwLDEsMzc0LDI2OC41MWwtMzAsMTMuMiw3Mi40Myw0MC4zNiw4LjYtNzZaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTc2IC0xOTQuODgpIj48L3BhdGg+Cjwvc3ZnPgo="},22891:(t,M,i)=>{"use strict";i.r(M),i.d(M,{default:()=>g});var n=function(){var t=this,M=t.$createElement,n=t._self._c||M;return n("three-col-layout",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:t.toggleDropdown.bind(null,!0),expression:"toggleDropdown.bind(null, true)"}],staticClass:"app-container has-dash-icon has-3-col greeting",class:{"show-anyway":t.showAnyway.includes("greeting")},attrs:{"data-show-anyway":"greeting","data-test":"mantra"},scopedSlots:t._u([{key:"center",fn:function(){return[n("message",{attrs:{message:t.mantra,"editing-name":t.editingName},on:{editing:t.editing}})]},proxy:!0},{key:"right",fn:function(){return[n(t.$touch?"ToastMenu":"Dropdown",{tag:"component",attrs:{"on-dash":!0,active:t.dropdownActive,"section-title":"Mantra Actions"},on:{toggle:t.toggleDropdown}},[n("dropdown-option",{class:{active:t.isFavorite},attrs:{name:t.isFavorite?"Unfavorite":"Favorite","data-test":"favorite"},nativeOn:{click:function(M){return t.toggleFavorite(M)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("inline-svg",{staticClass:"icon icon-heart",attrs:{src:i(48368)}})]},proxy:!0}])}),t._v(" "),n("dropdown-option",{class:{active:t.isPinned},attrs:{name:t.pinOrUnpin,"is-plus":!0,"data-test":"pin"},nativeOn:{click:function(M){return t.togglePin(M)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("inline-svg",{staticClass:"icon dropdown-list-icon icon-pin",attrs:{src:i(59626)}})]},proxy:!0}])}),t._v(" "),n("dropdown-option",{class:{active:t.skipping},attrs:{name:t.skipOrSkipping,"is-plus":!0,"data-test":"skip"},nativeOn:{click:function(M){return t.skip(M)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("inline-svg",{staticClass:"icon dropdown-list-icon icon-skip",attrs:{src:i(34837)}})]},proxy:!0}])}),t._v(" "),t.isCustom?t._e():n("dropdown-option",{attrs:{name:"Don't show again","data-test":"dont-show-again"},nativeOn:{click:function(M){return t.dontShowAgain(M)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("inline-svg",{staticClass:"icon dropdown-list-icon icon-remove",attrs:{src:i(76187)}})]},proxy:!0}],null,!1,2335645709)}),t._v(" "),n("li",{staticClass:"line"}),t._v(" "),n("dropdown-option",{attrs:{name:"Mantra settings","data-test":"mantra-settings"},nativeOn:{click:function(M){return M.stopPropagation(),t.openMantraSettings(M)}}}),t._v(" "),t.mantra.name?n("dropdown-option",{attrs:{name:"Edit your name","data-test":"edit-name"},nativeOn:{click:function(M){return M.stopPropagation(),t.onEditNameClick(M)}}}):t._e()],1)]},proxy:!0}])})};n._withStripped=!0;var s=i(7288),a=i(20144),L=i(51726),e=i.n(L);a.Z.use(e());const u=new(a.Z.extend({name:"MantraManager",manager:m.models.mantraManager,bb:()=>({mantras:m.collect.mantras,mantraSettings:m.models.mantraSettings}),computed:{pinned(){return this.mantraSettings?this.mantraSettings.pinnedMantra:null},active(){let t;if(this.pinned)return t=this.mantras.findWhere({forDate:"pinned"}),t&&t.get("_id")===this.pinned.id?t:null;if(this.mantras&&this.isEnabled()){if(t=this.mantras.getActiveItem(),!t)return m.trigger("sync:download","mantra"),null;if(t.get("hardSkip"))return null}return t}},watch:{active(t){!t&&this.pinned&&this.mantras.create({forDate:"pinned",_id:this.pinned.id,body:this.pinned.body,is_custom:this.pinned.isCustom,is_favorite:this.pinned.isFavorite})}},methods:{isEnabled:function(){return this.$options.manager.isEnabled()},pinMantra:function(t,M){this.$options.manager.pinMantra(t,M)},toggleFav:function(t){this.$options.manager.toggleFav(t)},skipItem:function(t){return this.$options.manager.skipItem(t)},getMantraForDisplay:function(t,M){return this.$options.manager.getMantraForDisplay(t,M)},markGreetingAsSeenToday:function(){this.$options.manager.markGreetingAsSeenToday()}}}));var N=i(51940),j=i(23145),o=i(73304),r=i(65001),c=i(71308);const w=new c.ZP({feature:"mantra"}),y={name:"Mantra",components:{ThreeColLayout:o.Z,Message:s.Z,ToastMenu:()=>i.e(9994).then(i.bind(i,99994)),Dropdown:()=>i.e(8692).then(i.bind(i,88692)),DropdownOption:()=>i.e(2672).then(i.bind(i,2672))},mixins:[N.Z],props:{forcedMantra:{type:String,default:""}},unreactive:()=>({showAnyway:r.Z}),data:()=>({dropdownActive:!1,editingName:!1,skipping:!1,useLastShowName:!1}),computed:{isFavorite(){return this.mantra&&this.mantra.activeMantra&&this.mantra.activeMantra.get("is_favorite")},isPinned(){return this.mantra&&this.mantra.activeMantra&&this.mantra.activeMantra.isPinned()},isCustom(){return this.mantra&&this.mantra.activeMantra&&this.mantra.activeMantra.get("is_custom")},mantra(){if(this.forcedMantra)return{activeMantra:"",content:this.forcedMantra,name:"",punctuation:""};const t=u.active,M=u.getMantraForDisplay(t,this.useLastShowName);return M?{activeMantra:t,content:M.start,name:M.name,punctuation:M.end||"."}:{activeMantra:"",content:" ",name:"",punctuation:""}},skipOrSkipping(){return this.skipping?"Skipping…":"Skip mantra"},pinOrUnpin(){return this.isPinned?"Unpin":"Pin"}},watch:{mantra(){this.useLastShowName=!0}},methods:{toggleDropdown(t=!this.dropdownActive){this.$emit("stop-cycle",t),this.dropdownActive=t},openMantraSettings(){this.editingName||(m.commandManager.executeAsync("settings.display",null,{section:"mantra-settings"}),this.dropdownActive=!1)},toggleFavorite(){u.toggleFav(this.mantra.activeMantra),w.capture("mantra "+(this.isFavorite?"fav":"unfav"),{location:"dash",custom:this.isCustom})},togglePin(){if(!this.$plus)return void m.cmd("modal.open","UPSELL_MANTRAS",{eventSource:"dash"});w.capture("mantra "+(this.isPinned?"unpin":"pin"),{location:"dash",custom:this.isCustom,is_paid_event:!0});const t=this.mantra.name===j.ax.displayname;u.pinMantra(this.mantra.activeMantra,t)},skip(){if(this.$plus){if(!this.mantra.activeMantra)return m.trigger("sync:download","mantra"),void this.$emit("show-greeting");w.capture("mantra skip",{custom:this.isCustom,is_paid_event:!0}),this.skipping=!0,u.skipItem().finally((()=>{this.dropdownActive=!1,this.skipping=!1}))}else m.cmd("modal.open","UPSELL_MANTRAS",{eventSource:"dash"})},dontShowAgain(){u.skipItem(!0).finally((()=>{this.dropdownActive=!1,this.$plus||this.$emit("show-greeting")})),w.capture("mantra don't show again")},editing(t){this.$emit("stop-cycle",t),this.editingName=t},onEditNameClick(){this.editingName=!0,this.dropdownActive=!1,c.ZP.capture("display name change",{feature:"profile"})}}};var D=(0,i(51900).Z)(y,n,[],!1,null,null,null);D.options.__file="source/addins-vue/greetings-mantra/Mantra.vue";const g=D.exports}}]);