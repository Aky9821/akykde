(self.webpackChunkmomentum=self.webpackChunkmomentum||[]).push([[2813],{68481:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});const a={inserted:function(e,t){var i;if(!1===(null==t?void 0:t.value))return;const a=null==e||null===(i=e.value)||void 0===i?void 0:i.length;e.select(),(a||0===a)&&(e.setSelectionRange(a,a),e.scrollLeft=e.scrollWidth)}}},32533:(e,t,i)=>{(e.exports=i(23645)(!1)).push([e.id,"\n.label-wrapper[data-v-6abbcf90] { display: flex; gap: 10px; align-items: center;\n}\n.loading-icon[data-v-6abbcf90] { height: 10px; width: 10px;\n}\n",""])},89728:(e,t,i)=>{(e.exports=i(23645)(!1)).push([e.id,"\n.resize-wrapper.tr-height[data-v-0f8972b1] { transition: height var(--duration) ease;\n}\n.resize-wrapper.tr-width[data-v-0f8972b1] { display: flex; justify-content: center; transition: width var(--duration) ease;\n}\n.resize-wrapper.tr-height.tr-width[data-v-0f8972b1] { transition: height var(--duration) ease, width var(--duration) ease;\n}\n.resize-wrapper.hide-overflow[data-v-0f8972b1] { overflow: hidden;\n}\n.resize-wrapper.tr-width > div[data-v-0f8972b1] { width: fit-content;\n}\n.smooth-height-fade-enter-active[data-v-0f8972b1] { transition: opacity var(--transition-duration) cubic-bezier(.85,-0.18,.66,.66);\n}\n.smooth-height-fade-leave-active[data-v-0f8972b1] { position: absolute !important; top: 0; right: 0; left: 0; transition: opacity var(--transition-duration) cubic-bezier(.33,.13,.33,1.26);\n}\n.smooth-height-fade-enter[data-v-0f8972b1], .smooth-height-fade-leave-to[data-v-0f8972b1] { opacity: 0;\n}\n.smooth-width-fade-enter-active[data-v-0f8972b1] { transition: opacity var(--transition-duration) cubic-bezier(.85,-0.18,.66,.66);\n}\n.smooth-width-fade-leave-active[data-v-0f8972b1] { position: absolute; top: 0; left: 50%; transform: translateX(-50%); transition: opacity var(--transition-duration) cubic-bezier(.33,.13,.33,1.26);\n}\n.smooth-width-fade-enter[data-v-0f8972b1], .smooth-width-fade-leave-to[data-v-0f8972b1] { opacity: 0;\n}\n.smooth-height-slide-left-enter-active[data-v-0f8972b1], .smooth-height-slide-left-leave-active[data-v-0f8972b1],\n.smooth-height-slide-right-enter-active[data-v-0f8972b1], .smooth-height-slide-right-leave-active[data-v-0f8972b1] { transition: transform 300ms ease;\n}\n.smooth-height-slide-left-leave-active[data-v-0f8972b1], .smooth-height-slide-right-leave-active[data-v-0f8972b1] { position: absolute; top: 0; right: 0; left: 0;\n}\n.smooth-height-slide-left-leave-to[data-v-0f8972b1], .smooth-height-slide-right-enter[data-v-0f8972b1] { transform: translateX(-100%);\n}\n.smooth-height-slide-left-enter[data-v-0f8972b1], .smooth-height-slide-right-leave-to[data-v-0f8972b1] { transform: translateX(100%);\n}\n",""])},93676:(e,t,i)=>{(e.exports=i(23645)(!1)).push([e.id,"\n.v-typeahead[data-v-a92d2096] { background-color: transparent;\n}\n.v-typeahead .dropdown-list[data-v-a92d2096] { padding: 0; display: block; background: var(--color-accent-highlight); border-radius: 0 0 var(--border-radius) var(--border-radius); box-shadow: none;\n}\n.v-typeahead ul[data-v-a92d2096] { padding: 6px 0;\n}\n.v-typeahead li[data-v-a92d2096], .v-typeahead .not-found[data-v-a92d2096] { max-width: none; padding: 4px 9px; opacity: 0.8; cursor: pointer; font-size: 0.875rem;\n}\n.v-typeahead li[data-v-a92d2096]:hover { background: var(--dropdown-hover-bg);\n}\n.v-typeahead .no-results[data-v-a92d2096] { opacity: 0.6;\n}\n",""])},12813:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"label-wrapper"},[i("label",[e._v("Location")]),e._v(" "),e.loadingTimezone?i("div",{staticClass:"loading-icon",attrs:{"data-test":"loading-timezone"}}):e._e()]),e._v(" "),i("location-typeahead",{class:{pulse:e.warning},attrs:{"before-fetch-results":e.interceptUtcSearch,value:e.transformedValue,type:"timezone"},on:{input:e.getTimezone}})],1)};a._withStripped=!0;var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("typeahead",{attrs:{value:e.inputValue,results:e.results,loading:e.loading,"no-results":e.noResults,type:e.type,placeholder:"Type a location"},on:{input:e.fetchResults,select:e.onSelect}})};s._withStripped=!0;var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-typeahead",class:{searching:e.resultsVisible}},[i("input",{directives:[{name:"soft-focus",rawName:"v-soft-focus"}],attrs:{type:"text",placeholder:e.placeholder,spellcheck:"false",autocomplete:"off","data-test":e.type+"-input"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},focus:function(e){return e.target.select()}}}),e._v(" "),e.resultsVisible?i("smooth-reflow",{staticClass:"dropdown-list",attrs:{nested:!0,"hide-overflow":!0}},[i("ul",{attrs:{"data-test":"typeahead-dropdown"}},[i("li",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"searching"},[e._v("Searching...")]),e._v(" "),e._l(e.results,(function(t,a){return i("li",{key:a,attrs:{"data-test":e.type+"-result"},on:{click:function(i){return e.$emit("select",t)}}},[i("span",{staticClass:"name"},[e._v(e._s(t.name))])])})),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.noResults,expression:"noResults"}],staticClass:"no-results",attrs:{"data-test":"not-found"}},[e._v("No "+e._s(e.type)+"s found.")])],2)]):e._e()],1)};n._withStripped=!0;var o=i(68481);const r={name:"Typeahead",components:{SmoothReflow:i(72606).default},directives:{softFocus:o.Z},props:{value:{type:String,default:""},type:{type:String,default:""},results:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},placeholder:{type:String,required:!0},noResults:{type:Boolean,default:!1}},computed:{resultsVisible(){return this.results.length||this.loading||this.noResults}}};i(60035);var l=i(51900),h=(0,l.Z)(r,n,[],!1,null,"a92d2096",null);h.options.__file="source/addins-vue/shared_components/Typeahead.vue";const d=h.exports;var u=i(9669),c=i.n(u);const p={name:"LocationTypeahead",components:{Typeahead:d},props:{value:{type:Object,default:()=>({})},type:{type:String,default:"location"},beforeFetchResults:{type:Function,default:null}},data:()=>({results:[],inputValue:"",loading:!1,noResults:!1}),created(){this.value.name&&(this.inputValue=this.value.name)},methods:{async fetchResults(e){if(this.inputValue=e,e.length>2){var t;this.noResults=!1;const i=null===(t=this.beforeFetchResults)||void 0===t?void 0:t.call(this,e);if(i)this.results=i;else{this.loading=!0,this.cancelTokenSource&&this.cancelTokenSource.cancel(),this.cancelTokenSource=c().CancelToken.source();try{const{data:t}=await this.$xhr.get("/locations:search?input="+e,{cancelToken:this.cancelTokenSource.token});this.loading=!1,this.results=t,this.results.length||(this.noResults=!0)}catch(e){if(c().isCancel(e))return;console.error(e),this.loading=!1}}}else this.cancelTokenSource&&this.cancelTokenSource.cancel(),this.results=[],this.noResults=!1,this.loading=!1},onSelect(e){this.results=[],this.noResults=!1,this.$emit("input",e),this.inputValue=e.name}}};var f=(0,l.Z)(p,s,[],!1,null,null,null);f.options.__file="source/addins-vue/shared_components/LocationTypeahead.vue";const v=f.exports,g=i(94333).$x.map((({name:e,id:t})=>{const i=e.includes("-"),a=e.substring(3),s=a.replace(":",""),[n,o]=a.substring(1).split(":");return{name:e,shortName:e,offset:(60*n+o)*(i?-1:1),searchable:s,timeZoneId:t}})),w={name:"TimezoneTypeahead",components:{LocationTypeahead:v},props:{value:{type:Object,required:!0},componentFieldWarnings:{type:Array,default:()=>[]}},data:()=>({warning:!1,loadingTimezone:!1}),computed:{transformedValue(){return{name:this.value.timeZoneName,...this.value}}},watch:{componentFieldWarnings(e){e.includes("timeZoneId")&&(this.warning=!0),setTimeout((()=>this.warning=!1),1e3)}},methods:{async getTimezone({shortName:e,name:t,latitude:i,longitude:a,offset:s=0,timeZoneId:n=""}={}){if(this.$emit("input",{shortName:e,timeZoneName:t,offset:s,timeZoneId:n}),void 0===arguments[0].timeZoneId){this.loadingTimezone=!0;try{const{data:{name:s,offset:n}}=await this.$xhr.get(`/timezones:search?latitude=${i}&longitude=${a}`);this.$emit("input",{shortName:e,name,offset:n,timeZoneId:s,timeZoneName:t})}catch(e){console.error(e)}finally{this.loadingTimezone=!1}}},interceptUtcSearch(e){const t=e.toLowerCase().trim();if(t.includes("utc")||t.includes("gmt")){var i;const e=(null===(i=t.replace(":","").match(/(\d|-|\+)+/))||void 0===i?void 0:i[0])||"",a=m.utils.fuzzyFilter(e,g,"searchable");if(a.length)return a}}}};i(43744);var b=(0,l.Z)(w,a,[],!1,null,"6abbcf90",null);b.options.__file="source/addins-vue/baseMetric/components/TimezoneTypeahead.vue";const y=b.exports},72606:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"wrapper",staticClass:"resize-wrapper",class:{"tr-height":e.height,"tr-width":e.width,"hide-overflow":e.hideOverflow&&e.resizing},style:{"--duration":e.resizeDuration+"ms","--transition-duration":(null===e.transitionDuration?e.duration:e.transitionDuration)+"ms",height:e.wrapperHeight,width:e.wrapperWidth},attrs:{"data-smooth-reflow-id":e.id,"data-test":"smooth-reflow","data-test-transitioning":e.resizing||e.transitionActive}},[i("div",{directives:[{name:"resize-sensor",rawName:"v-resize-sensor",value:e.handleResize,expression:"handleResize"}]},[i("transition",{attrs:{name:e.transition,duration:null===e.transitionDuration?e.duration:e.transitionDuration},on:{"before-enter":e.beforeEnter,enter:e.enter,"after-enter":e.afterEnter,"enter-cancelled":e.enterCancelled,"before-leave":e.beforeLeave,leave:e.leave,"after-leave":e.afterLeave,"leave-cancelled":e.leaveCancelled}},[e._t("default")],2)],1)])};a._withStripped=!0;var s=i(28249),n=i(51940);const o={name:"SmoothReflow",directives:{ResizeSensor:s.Z},mixins:[n.Z],props:{height:{type:Boolean,default:!0},width:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},duration:{type:Number,default:500},transitionDuration:{type:Number,default:null},nested:{type:Boolean,default:!1},hideOverflow:{type:Boolean,default:!1},transition:{type:String,default:"smooth-height-fade"}},data:()=>({id:Math.random().toString(36).substring(7),wrapperHeightPx:"",wrapperWidthPx:"",auto:!0,resizing:!1,transitionActive:!1,ancestors:[]}),computed:{wrapperHeight(){return!this.height||this.disabled||this.auto||!this.wrapperHeightPx?"auto":this.wrapperHeightPx},wrapperWidth(){return this.width?this.disabled||this.auto||!this.wrapperWidthPx?"auto":this.wrapperWidthPx:""},resizeDuration(){return null===this.transitionDuration?this.duration:this.transitionActive?this.transitionDuration:this.duration}},created(){this.$e.$on("pauseSmoothReflow:"+this.id,this.pauseSmoothReflow),this.$e.$on("resumeSmoothReflow:"+this.id,this.resumeSmoothReflow)},mounted(){this.nested?(this.$nextTick(this.findSmoothReflowAncestors),setTimeout((()=>{this.auto=!1,this.setExplicitDimensions()}),500)):(this.auto=!1,this.setExplicitDimensions())},destroyed(){this.$e.$off("pauseSmoothReflow:"+this.id,this.pauseSmoothReflow),this.$e.$off("resumeSmoothReflow:"+this.id,this.resumeSmoothReflow)},methods:{async handleResize(e){this.auto||(this.resizing=!0,clearTimeout(this.timeout),this.nested&&this.ancestors.length&&(this.ancestors.forEach((e=>this.$e.$emit("pauseSmoothReflow:"+e))),await this.$nextTick()),this.height&&(this.wrapperHeightPx=e.height+"px"),this.width&&(this.wrapperWidthPx=e.width+"px"),this.timeout=setTimeout((()=>{this.nested&&this.ancestors.length&&this.ancestors.forEach((e=>this.$e.$emit("resumeSmoothReflow:"+e))),this.resizing=!1,this.$emit("afterResize")}),this.duration))},findSmoothReflowAncestors(){let e,t=!0;for(;t;)e=(e&&e.parentElement||this.$el.parentElement).closest("[data-smooth-reflow-id]"),e?this.ancestors.push(e.getAttribute("data-smooth-reflow-id")):t=!1},pauseSmoothReflow(){this.auto=!0},resumeSmoothReflow(){this.auto=!1,this.setExplicitDimensions()},setExplicitDimensions(){this.$refs.wrapper&&(this.height&&(this.wrapperHeightPx=this.$refs.wrapper.clientHeight+"px"),this.width&&(this.wrapperWidthPx=this.$refs.wrapper.clientWidth+"px"))},beforeEnter(e){this.transitionActive=!0,this.$emit("beforeEnter",e)},enter(e){this.$emit("enter",e)},afterEnter(e){this.transitionActive=!1,this.$emit("afterEnter",e)},enterCancelled(e){this.$emit("afterEnter",e)},beforeLeave(e){this.transitionActive=!0,this.$emit("beforeLeave",e)},leave(e){this.$emit("leave",e)},afterLeave(e){this.transitionActive=!1,this.$emit("afterLeave",e)},leaveCancelled(e){this.$emit("leaveCancelled",e)}}};i(38732);var r=(0,i(51900).Z)(o,a,[],!1,null,"0f8972b1",null);r.options.__file="source/addins-vue/shared_components/SmoothReflow.vue";const l=r.exports},43744:(e,t,i)=>{var a=i(32533);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,i(45346).Z)("c7c4f276",a,!1,{ssrId:!0})},38732:(e,t,i)=>{var a=i(89728);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,i(45346).Z)("07262056",a,!1,{ssrId:!0})},60035:(e,t,i)=>{var a=i(93676);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,i(45346).Z)("60bb1218",a,!1,{ssrId:!0})}}]);